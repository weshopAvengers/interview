## diff原理
- 遍历新老dom树，如果没有新的return，如果新老的tagname和key不一样，直接替换掉，所以不加key的react是不完整的。如果新老tagname和key一样的话，就会遍历老的属性列表。看一看老的属性列里老的属性在新的里面有没有，再遍历新的属性列表看老的属性有没有变化，顺便再看一看新的属性列表里面有没有新增属性。
- 遍历完成后如果确认有修改的话会遍历子节点。在遍历子节点中，会先遍历子节点的老的列表，看一看老的列表存在与新的列表，再看一看老的列表是否有移动，顺便看看新的列表是否有新增节点。遍历完之后把新旧都存在的列表返回和记录变化的列表返回。
- 拿到新旧都存在列表之后，只遍历新旧都存在的节点，不会遍历新增和删去的节点。这次遍历是递归调用最开始的新老dom树的diff方法，拿到所有的变化。
- 最后拥抱变化，主要操作就是dom操作。把之前拿到的记录变化的列表做遍历，里面会记录这变化的类型（新增、修改、删除、移动）。